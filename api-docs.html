<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation â€” Noctua Forest</title>
    <link rel="stylesheet" href="assets/tailwind.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;700&family=Noto+Serif:wght@400;600;700&family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0ZWN1Z3DYQ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-0ZWN1Z3DYQ');
    </script>
    
    <style>
        body {
            font-family: 'Noto Sans', sans-serif;
            background-color: #fbebcc;
        }
        .api-endpoint {
            background: #f8f9fa;
            border-left: 4px solid #F58220;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }
        .method-get {
            background-color: #28a745;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.875rem;
        }
        pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
        }
        .response-example {
            font-size: 0.875rem;
        }
    </style>
</head>
<body class="text-gray-800">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Header -->
        <header class="flex justify-between items-center mb-8">
            <a href="welcome.html" class="flex items-center space-x-3">
                <img src="images/logo.png" alt="Noctua Forest Logo" width="40" height="40" decoding="async" class="w-10 h-10">
                <span class="text-2xl font-bold" style="font-family: 'Poppins', sans-serif; color: #4A5450;">Noctua Forest</span>
            </a>
            <nav id="nav" class="hidden md:flex items-center space-x-8 text-lg" style="font-family: 'Noto Sans', sans-serif;">
                <a href="forest.html" class="hover:text-forest-accent transition-colors duration-300 font-medium block md:inline-block py-3 md:py-0 px-4 md:px-0 text-left md:text-center" style="color:#4A5450">The Forest</a>
                <a href="submit.html" class="hover:text-forest-accent transition-colors duration-300 font-medium block md:inline-block py-3 md:py-0 px-4 md:px-0 text-left md:text-center" style="color:#4A5450">Submit Book</a>
                <a href="about.html" class="hover:text-forest-accent transition-colors duration-300 font-medium block md:inline-block py-3 md:py-0 px-4 md:px-0 text-left md:text-center" style="color:#4A5450">About</a>
            </nav>
            <div class="flex items-center gap-2">
                <button class="md:hidden" onclick="toggleMobileMenu()" aria-label="Toggle menu">
                    <svg class="w-6 h-6" fill="none" stroke="#4A5450" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
                <a href="account.html" class="hover:text-forest-accent transition-colors duration-300" aria-label="Account">
                    <svg class="w-6 h-6" fill="none" stroke="#4A5450" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </a>
            </div>
        </header>

        <!-- Breadcrumb Navigation -->
        <nav class="max-w-5xl mx-auto px-4 mb-6" aria-label="Breadcrumb">
            <ol class="breadcrumb flex items-center space-x-2 text-sm">
                <li><a href="welcome.html" class="hover:text-forest-accent transition-colors">Home</a></li>
                <li><span class="mx-2">/</span></li>
                <li><a href="dashboard.html" class="hover:text-forest-accent transition-colors">Dashboard</a></li>
                <li><span class="mx-2">/</span></li>
                <li class="breadcrumb-current" aria-current="page">API Documentation</li>
            </ol>
        </nav>

        <!-- Main Content -->
        <main class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <!-- Header -->
                <div class="text-center mb-8">
                    <h1 class="text-3xl font-bold mb-4" style="font-family: 'Poppins', sans-serif; color: #4A5450;">Noctua Forest API</h1>
                    <p class="text-lg text-gray-600">RESTful API for accessing our curated book collection</p>
                    <div class="mt-4 p-4 bg-blue-50 rounded-lg">
                        <p class="text-sm text-blue-800">
                            <strong>Base URL:</strong> <code>https://noctuaforest.com/api</code>
                        </p>
                    </div>
                </div>

                <!-- Authentication -->
                <section class="mb-8">
                    <h2 class="text-2xl font-bold mb-4" style="font-family: 'Poppins', sans-serif; color: #4A5450;">Authentication</h2>
                    <p class="text-gray-700 mb-4">
                        The Noctua Forest API is currently <strong>public</strong> and does not require authentication. 
                        All endpoints are read-only and rate-limited to ensure fair usage.
                    </p>
                    <div class="p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                        <p class="text-yellow-800 text-sm">
                            <strong>Rate Limit:</strong> 100 requests per minute per IP address
                        </p>
                    </div>
                </section>

                <!-- Books Endpoint -->
                <section class="mb-8">
                    <h2 class="text-2xl font-bold mb-4" style="font-family: 'Poppins', sans-serif; color: #4A5450;">Books</h2>
                    
                    <!-- Get All Books -->
                    <div class="api-endpoint">
                        <div class="flex items-center mb-2">
                            <span class="method-get">GET</span>
                            <code class="ml-3 text-lg font-mono">/api/books</code>
                        </div>
                        <p class="text-gray-700 mb-4">Retrieve a list of books with optional filtering and search capabilities.</p>
                        
                        <h4 class="font-bold mb-2">Query Parameters:</h4>
                        <ul class="list-disc list-inside mb-4 space-y-1 text-sm">
                            <li><code>language</code> (string) - Filter by book language (e.g., "English")</li>
                            <li><code>region</code> (string) - Filter by author region (e.g., "Spain")</li>
                            <li><code>author</code> (string) - Filter by author name (partial match)</li>
                            <li><code>tag</code> (string) - Filter by genre/tag (e.g., "Fiction")</li>
                            <li><code>search</code> (string) - Search across title, author, description, and tags</li>
                            <li><code>limit</code> (number) - Maximum number of results (default: 50, max: 100)</li>
                        </ul>

                        <h4 class="font-bold mb-2">Example Request:</h4>
                        <pre class="response-example">GET /api/books?tag=Fiction&limit=10</pre>

                        <h4 class="font-bold mb-2 mt-4">Example Response:</h4>
                        <pre class="response-example">{
  "success": true,
  "count": 2,
  "total": 3,
  "books": [
    {
      "id": "whispers-in-the-wind",
      "title": "Whispers in the Wind",
      "author": "Elena Rodriguez",
      "blurb": "A haunting tale of love and loss...",
      "tags": ["Historical Fiction", "Romance", "Spain"],
      "language": "English",
      "region": "Spain",
      "rating": 4.7,
      "publicationYear": 2023,
      "coverUrl": "/images/book-covers/whispers-wind.jpg"
    }
  ]
}</pre>
                    </div>

                    <!-- Get Single Book -->
                    <div class="api-endpoint">
                        <div class="flex items-center mb-2">
                            <span class="method-get">GET</span>
                            <code class="ml-3 text-lg font-mono">/api/books/{id}</code>
                        </div>
                        <p class="text-gray-700 mb-4">Retrieve detailed information about a specific book.</p>

                        <h4 class="font-bold mb-2">Path Parameters:</h4>
                        <ul class="list-disc list-inside mb-4 space-y-1 text-sm">
                            <li><code>id</code> (string) - Unique book identifier</li>
                        </ul>

                        <h4 class="font-bold mb-2">Example Request:</h4>
                        <pre class="response-example">GET /api/books/whispers-in-the-wind</pre>

                        <h4 class="font-bold mb-2 mt-4">Example Response:</h4>
                        <pre class="response-example">{
  "success": true,
  "book": {
    "id": "whispers-in-the-wind",
    "title": "Whispers in the Wind",
    "author": "Elena Rodriguez",
    "blurb": "A haunting tale of love and loss set against...",
    "tags": ["Historical Fiction", "Romance", "Spain"],
    "language": "English",
    "region": "Spain",
    "rating": 4.7,
    "publicationYear": 2023,
    "coverUrl": "/images/book-covers/whispers-wind.jpg"
  }
}</pre>
                    </div>
                </section>

                <!-- Error Handling -->
                <section class="mb-8">
                    <h2 class="text-2xl font-bold mb-4" style="font-family: 'Poppins', sans-serif; color: #4A5450;">Error Handling</h2>
                    <p class="text-gray-700 mb-4">The API uses standard HTTP status codes and returns JSON error responses:</p>
                    
                    <div class="space-y-4">
                        <div class="p-3 bg-gray-50 rounded border-l-4 border-gray-400">
                            <code class="font-bold">404 Not Found</code>
                            <pre class="text-sm mt-2">{ "success": false, "error": "Book not found" }</pre>
                        </div>
                        <div class="p-3 bg-gray-50 rounded border-l-4 border-red-400">
                            <code class="font-bold">500 Internal Server Error</code>
                            <pre class="text-sm mt-2">{ "success": false, "error": "Failed to fetch books" }</pre>
                        </div>
                        <div class="p-3 bg-gray-50 rounded border-l-4 border-yellow-400">
                            <code class="font-bold">429 Too Many Requests</code>
                            <pre class="text-sm mt-2">{ "success": false, "error": "Rate limit exceeded" }</pre>
                        </div>
                    </div>
                </section>

                <!-- Usage Examples -->
                <section class="mb-8">
                    <h2 class="text-2xl font-bold mb-4" style="font-family: 'Poppins', sans-serif; color: #4A5450;">Usage Examples</h2>
                    
                    <h3 class="text-lg font-semibold mb-3">JavaScript (Fetch API)</h3>
                    <pre class="response-example mb-6">// Get all books
fetch('https://noctuaforest.com/api/books')
  .then(response => response.json())
  .then(data => console.log(data.books));

// Search for thriller books
fetch('https://noctuaforest.com/api/books?tag=Thriller')
  .then(response => response.json())
  .then(data => console.log(data.books));

// Get specific book
fetch('https://noctuaforest.com/api/books/midnight-calculations')
  .then(response => response.json())
  .then(data => console.log(data.book));</pre>

                    <h3 class="text-lg font-semibold mb-3">cURL</h3>
                    <pre class="response-example">curl "https://noctuaforest.com/api/books?search=mathematics&limit=5"</pre>
                </section>

                <!-- Contact -->
                <section class="text-center p-6 bg-gray-50 rounded-lg">
                    <h2 class="text-xl font-bold mb-2" style="color: #4A5450;">Need Help?</h2>
                    <p class="text-gray-700 mb-4">
                        Have questions about the API or need additional endpoints? 
                    </p>
                    <a href="contact.html" class="bg-[#F58220] hover:bg-[#E0751C] text-white font-bold py-2 px-6 rounded-full transition duration-300">
                        Contact Us
                    </a>
                </section>
            </div>
        </main>
    </div>
<script>
  function toggleMobileMenu() {
    const nav = document.getElementById('nav');
    if (!nav) return;
    const isHidden = nav.classList.contains('hidden');
    nav.classList.toggle('hidden');
    nav.classList.toggle('flex');
    nav.classList.toggle('flex-col');
    nav.classList.toggle('absolute');
    nav.classList.toggle('top-20');
    nav.classList.toggle('right-4');
    nav.classList.toggle('p-6');
    nav.classList.toggle('rounded-xl');
    nav.classList.toggle('shadow-lg');
    nav.classList.toggle('z-50');
    if (isHidden) {
      nav.style.backgroundColor = '#3A4440';
      nav.style.color = '#E0E2DB';
      nav.querySelectorAll('a').forEach(function(a){ a.style.color = '#E0E2DB'; });
    } else {
      nav.style.backgroundColor = '';
      nav.style.color = '';
      nav.querySelectorAll('a').forEach(function(a){ a.style.color = ''; });
    }
  }
  document.addEventListener('DOMContentLoaded', () => {
    const btn = document.querySelector('button[onclick="toggleMobileMenu()"]');
    if (btn) btn.addEventListener('touchend', (e)=>{ e.preventDefault(); toggleMobileMenu(); }, { passive: false });
  });
</script>
</body>
</html>
